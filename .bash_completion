_complete_basename() {
  local basenames=()

  if [[ $PWD != "/" ]]; then
    basenames+=("/")

    while read -d "/"; do
      basenames+=("$REPLY")
    done <<< "${PWD:1}"
  fi

  COMPREPLY=($(compgen -W "${basenames[*]}" -- "${COMP_WORDS[COMP_CWORD]}"))
}

complete -F _complete_basename up
